---
description: Standards for MUI DataGrid column configuration and ordering
alwaysApply: true
---

# DataGrid Column Standards - MANDATORY

**CRITICAL**: All DataGrid components must follow these column configuration standards for consistency and usability.

## Golden Rules

```
ğŸ”„ ENABLE column reordering on ALL tables
ğŸ“‹ PRIMARY column first (RTL: right-most)
âœ… CONSISTENT column ordering patterns
ğŸ¯ USER-FRIENDLY default order
```

---

## Core Principles

### 1. Column Reordering - ALWAYS ENABLED

**MANDATORY**: Every DataGrid must allow users to reorder columns.

```tsx
// âœ… Good - Column reordering enabled
<DataGrid
  rows={data}
  columns={columns}
  disableColumnReorder={false}  // Explicitly enable
  // ... other props
/>

// âŒ Bad - Disabled or not specified
<DataGrid
  rows={data}
  columns={columns}
  disableColumnReorder={true}  // Don't disable!
  // ... other props
/>
```

**Why:**
- Users have different workflows and preferences
- Some columns may be more important to specific users
- Improves usability and user satisfaction
- No performance cost

---

## Column Order Standards

### RTL (Hebrew) Layout

In RTL layouts, columns are displayed **right to left**. The first column in the array appears on the **right** side.

**Default Column Order Pattern:**
1. **Primary Identifier** (e.g., address, name) - RIGHT-MOST
2. **Secondary Identifiers** (e.g., file number, ID)
3. **Descriptive Fields** (e.g., type, status)
4. **Metrics/Counts** (e.g., unit count, room count)
5. **Dates** (e.g., created date, start date)
6. **Actions** - LEFT-MOST (always last)

---

## Entity-Specific Standards

### Properties Table

**File:** `components/properties/PropertyList.tsx`

**Column Order (RTL - right to left):**
```tsx
const columns: GridColDef<Property>[] = [
  // 1. PRIMARY - Address (×›×ª×•×‘×ª) - RIGHT-MOST
  {
    field: 'address',
    headerName: '×›×ª×•×‘×ª',
    flex: 1,
    minWidth: 200,
  },
  
  // 2. SECONDARY - File Number (××¡×¤×¨ ×ª×™×§)
  {
    field: 'fileNumber',
    headerName: '××¡×¤×¨ ×ª×™×§',
    width: 150,
  },
  
  // 3. METRICS - Unit Count (××¡×¤×¨ ×™×—×™×“×•×ª)
  {
    field: 'unitCount',
    headerName: '××¡×¤×¨ ×™×—×™×“×•×ª',
    width: 120,
  },
  
  // 4. DATE - Created Date (×ª××¨×™×š ×™×¦×™×¨×”)
  {
    field: 'createdAt',
    headerName: '×ª××¨×™×š ×™×¦×™×¨×”',
    width: 150,
  },
  
  // 5. ACTIONS (×¤×¢×•×œ×•×ª) - LEFT-MOST
  {
    field: 'actions',
    type: 'actions',
    headerName: '×¤×¢×•×œ×•×ª',
    width: 150,
  },
];
```

**Rationale:**
- Address is most important for property identification
- File number is useful but secondary
- Unit count gives quick overview
- Created date for reference
- Actions always last (left-most in RTL)

---

### Units Table

**File:** `components/units/UnitList.tsx`

**Column Order:**
```tsx
const columns: GridColDef<Unit>[] = [
  // 1. PRIMARY - Apartment Number (×“×™×¨×”)
  { field: 'apartmentNumber', headerName: '×“×™×¨×”', flex: 1 },
  
  // 2. DESCRIPTIVE - Floor (×§×•××”)
  { field: 'floor', headerName: '×§×•××”', width: 100 },
  
  // 3. METRICS - Room Count (×—×“×¨×™×)
  { field: 'roomCount', headerName: '×—×“×¨×™×', width: 100 },
  
  // 4. DATE - Created Date
  { field: 'createdAt', headerName: '×ª××¨×™×š ×™×¦×™×¨×”', width: 150 },
  
  // 5. ACTIONS
  { field: 'actions', type: 'actions', headerName: '×¤×¢×•×œ×•×ª', width: 150 },
];
```

---

### Tenants Table

**File:** `components/tenants/TenantList.tsx`

**Column Order:**
```tsx
const columns: GridColDef[] = [
  // 1. PRIMARY - Name (×©×)
  { field: 'name', headerName: '×©×', flex: 1 },
  
  // 2. CONTACT - Email (××™××™×™×œ)
  { field: 'email', headerName: '××™××™×™×œ', flex: 1 },
  
  // 3. CONTACT - Phone (×˜×œ×¤×•×Ÿ)
  { field: 'phone', headerName: '×˜×œ×¤×•×Ÿ', flex: 1 },
  
  // 4. METRICS - Active Leases (×—×•×–×™× ×¤×¢×™×œ×™×)
  { field: 'leases', headerName: '×—×•×–×™× ×¤×¢×™×œ×™×', width: 120 },
  
  // 5. DATE - Created Date
  { field: 'createdAt', headerName: '×ª××¨×™×š ×™×¦×™×¨×”', width: 120 },
  
  // 6. ACTIONS
  { field: 'actions', type: 'actions', headerName: '×¤×¢×•×œ×•×ª', width: 100 },
];
```

---

### Leases Table

**File:** `components/leases/LeaseList.tsx`

**Column Order:**
```tsx
const columns: GridColDef[] = [
  // 1. PRIMARY - Property/Unit (× ×›×¡)
  { field: 'unit', headerName: '× ×›×¡', flex: 1, minWidth: 200 },
  
  // 2. SECONDARY - Tenant (×“×™×™×¨)
  { field: 'tenant', headerName: '×“×™×™×¨', flex: 1, minWidth: 150 },
  
  // 3. DATE - Start Date (×ª××¨×™×š ×”×ª×—×œ×”)
  { field: 'startDate', headerName: '×ª××¨×™×š ×”×ª×—×œ×”', width: 120 },
  
  // 4. DATE - End Date (×ª××¨×™×š ×¡×™×•×)
  { field: 'endDate', headerName: '×ª××¨×™×š ×¡×™×•×', width: 120 },
  
  // 5. FINANCIAL - Monthly Rent (×©×›×™×¨×•×ª ×—×•×“×©×™×ª)
  { field: 'monthlyRent', headerName: '×©×›×™×¨×•×ª ×—×•×“×©×™×ª', width: 130 },
  
  // 6. STATUS (×¡×˜×˜×•×¡)
  { field: 'status', headerName: '×¡×˜×˜×•×¡', width: 110 },
  
  // 7. ACTIONS
  { field: 'actions', type: 'actions', headerName: '×¤×¢×•×œ×•×ª', width: 120 },
];
```

---

## Column Configuration Best Practices

### 1. Primary Column Features

The first column (right-most in RTL) should be:
- **Clickable/Interactive** (if navigating to details)
- **Always Visible** (use `flex` or sufficient `minWidth`)
- **Descriptive** (users should quickly identify the row)

```tsx
// âœ… Good - Primary column with link
{
  field: 'address',
  headerName: '×›×ª×•×‘×ª',
  flex: 1,  // Takes available space
  minWidth: 200,  // Ensures visibility
  renderCell: (params) => (
    <Link onClick={() => navigate(`/properties/${params.row.id}`)}>
      {params.value}
    </Link>
  ),
}
```

### 2. Actions Column

**ALWAYS** the last column (left-most in RTL):
```tsx
{
  field: 'actions',
  type: 'actions',
  headerName: '×¤×¢×•×œ×•×ª',
  width: 120-150,  // Fixed width
  getActions: (params) => [
    <GridActionsCellItem icon={<ViewIcon />} label="×¦×¤×™×™×”" />,
    <GridActionsCellItem icon={<EditIcon />} label="×¢×¨×™×›×”" />,
    <GridActionsCellItem icon={<DeleteIcon />} label="××—×™×§×”" />,
  ],
}
```

### 3. Column Widths

**Guidelines:**
- **Primary columns**: `flex: 1` or `minWidth: 200+`
- **Secondary text**: `flex: 1` or `width: 150`
- **Numeric values**: `width: 100-120`
- **Dates**: `width: 120-150`
- **Status/Chips**: `width: 100-110`
- **Actions**: `width: 100-150` (depends on number of actions)

```tsx
// âœ… Good - Appropriate widths
const columns = [
  { field: 'name', flex: 1, minWidth: 150 },      // Flexible
  { field: 'count', width: 100 },                  // Fixed numeric
  { field: 'date', width: 120 },                   // Fixed date
  { field: 'status', width: 110 },                 // Fixed status
  { field: 'actions', width: 150 },                // Fixed actions
];
```

---

## RTL-Specific Configuration

### DataGrid RTL Setup

```tsx
<DataGrid
  rows={data}
  columns={columns}
  disableColumnReorder={false}
  sx={{
    direction: 'rtl',  // RTL layout
    '& .MuiDataGrid-columnHeaders': {
      backgroundColor: 'rgba(0, 0, 0, 0.05)',  // Header styling
    },
    '& .MuiDataGrid-cell': {
      direction: 'rtl',  // Cell content RTL
    },
    '& .MuiDataGrid-columnHeader': {
      direction: 'rtl',  // Header content RTL
    },
  }}
/>
```

### Column Alignment in RTL

```tsx
// Text columns - right-aligned (default in RTL)
{
  field: 'name',
  headerName: '×©×',
  // No need to specify align for text
}

// Numeric columns - center-aligned
{
  field: 'count',
  headerName: '××¡×¤×¨',
  type: 'number',
  align: 'center',
  headerAlign: 'center',
}
```

---

## User Experience Guidelines

### 1. Column Visibility

Users should be able to:
- âœ… Reorder columns by dragging
- âœ… Resize columns (default DataGrid behavior)
- âš ï¸ Hide/show columns (optional - can add column menu)

### 2. Saved Preferences (Future Enhancement)

**Consider implementing:**
- Save column order to localStorage
- Save column widths to localStorage
- Per-user preferences via API

```tsx
// Example: Save column state
const [columnVisibilityModel, setColumnVisibilityModel] = useState({});

<DataGrid
  columnVisibilityModel={columnVisibilityModel}
  onColumnVisibilityModelChange={(newModel) => {
    setColumnVisibilityModel(newModel);
    localStorage.setItem('columnVisibility', JSON.stringify(newModel));
  }}
/>
```

### 3. Column Pinning (Optional)

For wide tables, consider pinning primary columns:
```tsx
<DataGrid
  initialState={{
    pinnedColumns: { left: [], right: ['address'] }  // Pin address on right (RTL)
  }}
/>
```

---

## Checklist for New Tables

Before creating a new DataGrid component:

- [ ] Enable column reordering (`disableColumnReorder={false}`)
- [ ] Order columns: Primary â†’ Secondary â†’ Metrics â†’ Dates â†’ Actions
- [ ] Primary column is first (right-most in RTL)
- [ ] Actions column is last (left-most in RTL)
- [ ] RTL styling applied (`direction: 'rtl'`)
- [ ] Appropriate column widths set
- [ ] Primary column is interactive/clickable (if applicable)
- [ ] Hebrew labels for all columns
- [ ] Column alignment correct (text: right, numbers: center)

---

## Migration Guide

### Existing Tables Without Reordering

Add to existing DataGrid components:
```tsx
// Find this:
<DataGrid
  rows={data}
  columns={columns}
  // ... other props
/>

// Add this line:
<DataGrid
  rows={data}
  columns={columns}
  disableColumnReorder={false}  // â† ADD THIS
  // ... other props
/>
```

### Reordering Existing Columns

If columns are not in the correct order:
```tsx
// OLD - Wrong order
const columns = [
  { field: 'createdAt', ... },     // âŒ Date first
  { field: 'address', ... },       // âŒ Primary in middle
  { field: 'actions', ... },       // âŒ Actions in middle
];

// NEW - Correct order
const columns = [
  { field: 'address', ... },       // âœ… Primary first
  { field: 'fileNumber', ... },    // âœ… Secondary
  { field: 'createdAt', ... },     // âœ… Date
  { field: 'actions', ... },       // âœ… Actions last
];
```

---

## Testing

### Manual Testing Checklist

For each DataGrid:
- [ ] Columns can be reordered by dragging header
- [ ] Primary column is right-most (RTL)
- [ ] Actions column is left-most (RTL)
- [ ] Column order is logical and user-friendly
- [ ] All Hebrew labels display correctly
- [ ] Column widths are appropriate
- [ ] No horizontal scrolling on standard screens (unless necessary)
- [ ] Reordered columns persist during pagination/filtering

---

## Common Mistakes

### âŒ Mistake 1: Disabling Column Reorder
```tsx
<DataGrid disableColumnReorder={true} />  // Don't do this!
```

### âŒ Mistake 2: Actions Column First
```tsx
const columns = [
  { field: 'actions', type: 'actions', ... },  // Wrong!
  { field: 'name', ... },
];
```

### âŒ Mistake 3: No Flex on Primary Column
```tsx
{
  field: 'address',
  width: 150,  // âŒ Too narrow, no flex
}
```

### âŒ Mistake 4: Missing RTL Direction
```tsx
<DataGrid
  rows={data}
  columns={columns}
  // âŒ Missing sx={{ direction: 'rtl' }}
/>
```

---

## Examples

### Complete PropertyList Example

```tsx
export default function PropertyList() {
  const columns: GridColDef<Property>[] = [
    {
      field: 'address',
      headerName: '×›×ª×•×‘×ª',
      flex: 1,
      minWidth: 200,
      renderCell: (params) => (
        <Link onClick={() => navigate(`/properties/${params.row.id}`)}>
          {params.value}
        </Link>
      ),
    },
    {
      field: 'fileNumber',
      headerName: '××¡×¤×¨ ×ª×™×§',
      width: 150,
    },
    {
      field: 'unitCount',
      headerName: '××¡×¤×¨ ×™×—×™×“×•×ª',
      width: 120,
      type: 'number',
      align: 'center',
      headerAlign: 'center',
    },
    {
      field: 'createdAt',
      headerName: '×ª××¨×™×š ×™×¦×™×¨×”',
      width: 150,
      valueFormatter: (params) => 
        new Date(params.value).toLocaleDateString('he-IL'),
    },
    {
      field: 'actions',
      type: 'actions',
      headerName: '×¤×¢×•×œ×•×ª',
      width: 150,
      getActions: (params) => [
        <GridActionsCellItem icon={<VisibilityIcon />} label="×¦×¤×™×™×”" />,
        <GridActionsCellItem icon={<EditIcon />} label="×¢×¨×™×›×”" />,
        <GridActionsCellItem icon={<DeleteIcon />} label="××—×™×§×”" />,
      ],
    },
  ];

  return (
    <DataGrid
      rows={data}
      columns={columns}
      disableColumnReorder={false}
      sx={{
        direction: 'rtl',
        '& .MuiDataGrid-columnHeaders': {
          backgroundColor: 'rgba(0, 0, 0, 0.05)',
        },
      }}
    />
  );
}
```

---

## Summary

```
ğŸ”„ Column reordering: ALWAYS enabled
ğŸ“‹ Column order: Primary â†’ Secondary â†’ Metrics â†’ Dates â†’ Actions
âœ… RTL support: direction: 'rtl'
ğŸ¯ User-friendly: Logical default order
```

**Every DataGrid must allow users to customize their view by reordering columns!**

---

**Last Updated:** February 2, 2026  
**Applies To:** All DataGrid components in the application  
**Status:** âœ… MANDATORY - Must be followed for all tables
